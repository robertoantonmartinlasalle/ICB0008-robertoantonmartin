<!--
  Página: Lista de Jugadores
  Muestra jugadores obtenidos desde la API pública.
  Permite cargar más resultados paginados y ver detalles al hacer clic.
-->

<ion-header>
  <ion-toolbar>
    <ion-title>Lista de Jugadores</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="contenido">

    <!-- Spinner principal mientras se carga la primera tanda de datos -->
    <ion-spinner 
      name="crescent" 
      *ngIf="cargando && jugadores.length === 0" 
      class="spinner">
    </ion-spinner>

    <!-- Lista de jugadores cargados -->
    <ion-list *ngIf="jugadores.length > 0">
      <ion-item 
        *ngFor="let jugador of jugadores" 
        button 
        (click)="verDetalleJugador(jugador.id)">
        {{ jugador.first_name }} {{ jugador.last_name }}
      </ion-item>
    </ion-list>

    <!-- Botón para cargar más resultados -->
    <div class="boton-cargar-mas" *ngIf="hayMas && !cargando">
      <ion-button expand="block" (click)="cargarJugadores()">
        Cargar más
      </ion-button>
    </div>

    <!-- Spinner secundario mientras se cargan más datos (ya hay lista) -->
    <ion-spinner 
      name="dots" 
      *ngIf="cargando && jugadores.length > 0" 
      class="spinner">
    </ion-spinner>
    
  </div>
</ion-content>
